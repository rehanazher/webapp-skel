<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
    <package name="touch" namespace="/touch" extends="default">
        <action name="touch" class="jp.co.fcctvweb.actions.BasicJsonAction">
            <result>index.jsp</result>
        </action>
        <action name="queryEmpty" class="jp.co.fcctvweb.actions.BasicJsonAction" method="emptyJson"><result type="json" name="json"/></action>
        <action name="queryVideo" class="jp.co.fcctvweb.actions.QueryVideoAction" method="query" ><result type="json" name="json"></result></action>
        <action name="addFavorite" class="jp.co.fcctvweb.actions.FavoriteAction" method="addFavorite"><result type="json" name="json"></result></action>
        <action name="removeFavorite" class="jp.co.fcctvweb.actions.FavoriteAction" method="removeFavorite"><result type="json" name="json"></result></action>
        <action name="addMyFileFavorite" class="jp.co.fcctvweb.actions.FavoriteAction" method="addMyFileFavorite"><result type="json" name="json"></result></action>
        <action name="removeMyFileFavorite" class="jp.co.fcctvweb.actions.FavoriteAction" method="removeMyFileFavorite"><result type="json" name="json"></result></action>
        
        <action name="prepareVideo" class="jp.co.fcctvweb.actions.client.PhoneVideoAction"><result type="json" name="json"></result></action>
        
        <action name="watch" class="jp.co.fcctvweb.actions.IoAction">
        	<result name="video" type="stream">
        		<param name="contentType">video/mp4</param>
                <param name="inputName">inputStream</param>
                <param name="contentDisposition">filename="play.mp4"</param>
        	</result>
        	<result name="httpheader" type="httpheader">
        	</result>
        	
        	<result name="jpeg" type="stream">
        		<param name="contentType">image/jpeg</param>
                <param name="inputName">inputStream</param>
                <param name="bufferSize">1024</param> 
        	</result>
        	<result name="doc" type="stream">
        		<param name="contentType">application/msword</param>
                <param name="inputName">inputStream</param>
                <param name="bufferSize">2048</param>
                <param name="allowCaching">true</param>
        	</result>
            <result name="docx" type="stream">
        		<param name="contentType">application/vnd.openxmlformats-officedocument.wordprocessingml.document</param>
                <param name="inputName">inputStream</param>
                <param name="contentDisposition">filename="download.docx"</param>
        	</result>    	
        	<result name="pdf" type="stream">
        		<param name="contentType">application/pdf</param>
                <param name="inputName">inputStream</param>
                <param name="bufferSize">2048</param>
                <param name="allowCaching">true</param>
        	</result>
        	<result name="json"></result>
        	<interceptor-ref name="defaultStack"/>
       	</action>
        <action name="thumbs" class="jp.co.fcctvweb.actions.IoAction">
        	<result name="video" type="stream">
        		<param name="contentType">video/mp4</param>
                <param name="inputName">inputStream</param>
        	</result>
        	<result name="jpeg" type="stream">
        		<param name="contentType">image/jpeg</param>
                <param name="inputName">inputStream</param>
                <param name="bufferSize">1024</param> 
        	</result>
        </action>
        
        
        <action name="queryMyFile" class="jp.co.fcctvweb.actions.QueryMyFileAction" method="query" ><result type="json" name="json"></result></action>
        <action name="retrieveDocTree" class="jp.co.fcctvweb.actions.MyDocAction" method="retrieveDocTree" ><result type="json" name="json"></result></action>
<!--         <action name="test" class="jp.co.fcctvweb.actions.TestAction"><result name="json"/></action> -->
    </package>
</struts>