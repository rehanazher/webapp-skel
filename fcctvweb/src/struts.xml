<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
    <constant name="struts.objectFactory" value="spring" />
    <constant name="struts.devMode" value="false" />
    <constant name="struts.i18n.encoding" value="UTF-8" />
    <constant name="struts.objectFactory.spring.autoWire" value="name" />
    <constant name="struts.multipart.parser" value="jakarta" />

    <!-- uses javax.servlet.context.tempdir by default -->
    <constant name="struts.multipart.saveDir" value="" />
    <constant name="struts.multipart.maxSize" value="1073741824" />
<!--     <constant name="struts.multipart.maxSize" value="2097152" /> -->

    <!-- Used by the DefaultActionMapper -->
    <!-- You may provide a comma separated list, e.g. struts.action.extension=action,jnlp,do -->
    <!-- The blank extension allows you to match directory listings as well 
        as pure action names -->
    <!-- without interfering with static resources. -->
    <constant name="struts.action.extension" value="action,garapon," />

    <!-- Load custom default resource bundles -->
    <constant name="struts.custom.i18n.resources" value="messages," />

    <package name="default" extends="json-default">

        <global-results>
            <result name="login">login.jsp</result>
        </global-results>

        <action name="index" class="jp.co.fcctvweb.actions.UserAction" method="retrieveLogin">
            <result>index.jsp</result>
        </action>
        
        <action name="touch" class="jp.co.fcctvweb.actions.BasicJsonAction">
            <result type="redirect">/touch/</result>
        </action>
        
        <action name="uploader" class="jp.co.fcctvweb.actions.BasicJsonAction">
            <result type="redirect">/uploader/</result>
        </action>
        
        <action name="login" class="jp.co.fcctvweb.actions.UserAction" method="login"><result type="json" name="ajax"></result></action>

    </package>
    
    <package name="uploader" namespace="/uploader" extends="default">
        <default-interceptor-ref name="fileUploadStack"/>
        
        <action name="uploadFiles" class="jp.co.fcctvweb.actions.upload.UploadAction">
            <result type="json" name="json"></result>
        </action>
    </package>

    <include file="./struts_touch.xml"></include>
</struts>